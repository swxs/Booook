# bash脚本

------

- [bash脚本](#bash脚本)
  - [参数](#参数)
  - [判断](#判断)
    - [逻辑表达式](#逻辑表达式)
  - [条件跳转](#条件跳转)

------

## 参数

```sh
# 参数数量
$# 
# 所有参数，不分隔
$*
# 所有参数，分隔
$@
# 当前脚本名
$0
# 获得当前进程 ID
$$
# 获得之前(上一个)进程 ID
$!
# 获得之前(上一个)进程结束的状态码 (0 表示成功, 1 表示失败)
$?
# 参数1~9
$1-$9
# 向左移动参数n位
shift n

$(basename $1)
$(dirname $1)
```
## 判断

```
if [逻辑表达式]; then
    [代码段]
else
    [代码段]
fi
```

### 逻辑表达式

```
test "$1" = "$arg"
["$1" = "$arg"]

=  :
== :
!= :
-n :
-z :

-eq n :
-ne n :
-lt n :
-lr n :
-gt n :
-ge n :

-b file : 文件存在并且是块设备文件。
-c file : 文件存在并且是字符设备文件。
-d file : 文件存在并且是一个目录。
-e file : 文件存在。
-f file : 文件存在并且是一般文件。
-g file : 文件存在并且设置了 setgid 位。
-h file : 文件存在并且是一个链接文件。
-p file : 文件存在并且是一个命名管道(FIFO)。
-r file : 文件存在并且是可读的。
-s file : 文件存在并且有内容。
-u file : 文件存在并且设置了 setuid。
-w file : 文件存在并且是可写的。
-x file : 文件存在并且是可执行的。
-S file : 文件存在并且是一个 socket。
```


## 条件跳转

```
case [变量] in
[条件1])
    [代码段]
    ;;
[条件2])
    [代码段]
    ;;
*)
    [代码段]
    ;;
esac
```